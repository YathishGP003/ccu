From a98a4a90c6bba098f1fd3e1b8682b64ba45ad398 Mon Sep 17 00:00:00 2001
From: Manjunath Kundaragi <mkundaragi@75f.io>
Date: Mon, 13 Jun 2022 14:43:20 +0530
Subject: [PATCH 01/50] Changed the default system profile daig point creation
 sequence

---
 .../java/a75f/io/renatus/RoomListActionMenuListener.java     | 2 --
 .../java/a75f/io/renatus/registration/CreateNewSite.java     | 5 ++---
 device/src/main/java/a75f/io/device/mesh/Pulse.java          | 5 ++---
 .../a75f/io/logic/bo/building/dualduct/DualDuctEquip.java    | 1 -
 4 files changed, 4 insertions(+), 9 deletions(-)

diff --git a/app/src/main/java/a75f/io/renatus/RoomListActionMenuListener.java b/app/src/main/java/a75f/io/renatus/RoomListActionMenuListener.java
index a0ea78d3f..1bf577819 100644
--- a/app/src/main/java/a75f/io/renatus/RoomListActionMenuListener.java
+++ b/app/src/main/java/a75f/io/renatus/RoomListActionMenuListener.java
@@ -137,8 +137,6 @@ class RoomListActionMenuListener implements MultiChoiceModeListener
 	
 	private void renameSelectedRoom()
 	{
-		Log.i("DEV_DEBUG", "renameSelectedRoom: ");
-		//L.ccu().getFloors().get(0).mZoneList.remove(selectedRoom.get(0));
 		L.saveCCUState();
 		for (int nCount = 0; nCount < selectedRoom.size(); nCount++)
 		{
diff --git a/app/src/main/java/a75f/io/renatus/registration/CreateNewSite.java b/app/src/main/java/a75f/io/renatus/registration/CreateNewSite.java
index e2a33f1ab..095e98888 100644
--- a/app/src/main/java/a75f/io/renatus/registration/CreateNewSite.java
+++ b/app/src/main/java/a75f/io/renatus/registration/CreateNewSite.java
@@ -290,7 +290,6 @@ public class CreateNewSite extends Fragment {
                 String installerEmail = mSiteInstallerEmailId.getText().toString();
                 String installerOrg = mSiteOrg.getText().toString();
                 String ccuName = mSiteCCU.getText().toString();
-
                 if (site.size() > 0) {
                     String siteId = site.get("id").toString();
                     updateSite(siteName, siteCity, siteZip, siteAddress, siteState, siteCountry, siteId,installerOrg, installerEmail, managerEmail);
@@ -303,7 +302,8 @@ public class CreateNewSite extends Fragment {
                     CCUHsApi.getInstance().updateCCU(ccuName, installerEmail, ahuRef, managerEmail);
                     L.ccu().setCCUName(ccuName);
                 } else {
-                    String localId = CCUHsApi.getInstance().createCCU(ccuName, installerEmail, DiagEquip.getInstance().create(),managerEmail);
+                    String localId = CCUHsApi.getInstance().createCCU(ccuName, installerEmail, DiagEquip.getInstance().create() ,managerEmail);
+                    L.ccu().systemProfile = new DefaultSystem();
                     L.ccu().setCCUName(ccuName);
                     CCUHsApi.getInstance().addOrUpdateConfigProperty(HayStackConstants.CUR_CCU, HRef.make(localId));
                 }
@@ -838,7 +838,6 @@ public class CreateNewSite extends Fragment {
         //SystemEquip.getInstance();
         Log.i(TAG, "LocalSiteID: " + localSiteId);
         ccuHsApi.log();
-        L.ccu().systemProfile = new DefaultSystem();
         prefs.setString("SITE_ID", localSiteId);
 
         new Handler().postDelayed(() -> CCUHsApi.getInstance().importNamedScheduleWithOrg(
diff --git a/device/src/main/java/a75f/io/device/mesh/Pulse.java b/device/src/main/java/a75f/io/device/mesh/Pulse.java
index 7de09e9e2..09618830b 100644
--- a/device/src/main/java/a75f/io/device/mesh/Pulse.java
+++ b/device/src/main/java/a75f/io/device/mesh/Pulse.java
@@ -873,9 +873,8 @@ public class Pulse
 
 		String cause = DeviceUtil.parseNodeStatusMessage(snRebootIndicationMsgs.nodeStatus.get());
 
-		Log.i("DEV_DEBUG",
-				"smartDevicesRebootMessage: Node Status "+cause);
-		Log.d(L.TAG_CCU_DEVICE,"smartDevicesRebootMessage = "+snRebootIndicationMsgs.smartNodeAddress+","+snRebootIndicationMsgs.rebootCause);
+		Log.d(L.TAG_CCU_DEVICE,"smartDevicesRebootMessage = "+snRebootIndicationMsgs.smartNodeAddress+
+				", "+snRebootIndicationMsgs.rebootCause+ "Node Status "+cause);
 		short address = (short)snRebootIndicationMsgs.smartNodeAddress.get();
 			LSerial.getInstance().setResetSeedMessage(true);
 		String firmwareVersion =
diff --git a/logic/src/main/java/a75f/io/logic/bo/building/dualduct/DualDuctEquip.java b/logic/src/main/java/a75f/io/logic/bo/building/dualduct/DualDuctEquip.java
index 0d160761d..c2f206daa 100644
--- a/logic/src/main/java/a75f/io/logic/bo/building/dualduct/DualDuctEquip.java
+++ b/logic/src/main/java/a75f/io/logic/bo/building/dualduct/DualDuctEquip.java
@@ -1195,7 +1195,6 @@ public class DualDuctEquip {
                 .setUnit("%")
                 .setTz(tz)
                 .build();
-        Log.i("DEV_DEBUG", "createFeedbackPoint: ");
         return ccuHsApi.addPoint(damperFeedback);
     }
 
-- 
2.31.0.windows.1

