From f36c9df17aded88cbd693724b11c9f5506ff9400 Mon Sep 17 00:00:00 2001
From: Samjith Sadasivan <samjith@75f.io>
Date: Fri, 17 Sep 2021 16:18:24 -0500
Subject: [PATCH] Fix Zone schedule sync

---
 app/src/main/java/a75f/io/renatus/schedules/SchedulerFragment.java | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/app/src/main/java/a75f/io/renatus/schedules/SchedulerFragment.java b/app/src/main/java/a75f/io/renatus/schedules/SchedulerFragment.java
index 069f41249..7bc26b7f6 100644
--- a/app/src/main/java/a75f/io/renatus/schedules/SchedulerFragment.java
+++ b/app/src/main/java/a75f/io/renatus/schedules/SchedulerFragment.java
@@ -1147,8 +1147,14 @@ public class SchedulerFragment extends DialogFragment implements ManualScheduleD
     public void onResume() {
         super.onResume();
         new Handler().postDelayed(() -> loadSchedule(),1500);
+        UpdateScheduleHandler.setBuildingScheduleListener(this);
     }
     
+    @Override
+    public void onPause() {
+        super.onPause();
+        UpdateScheduleHandler.setBuildingScheduleListener(null);
+    }
     public void refreshScreen() {
         if(getActivity() != null) {
             getActivity().runOnUiThread(() -> loadSchedule());
-- 
2.15.0

