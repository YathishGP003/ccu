From c23676ae657fa3c87befb5f1a7465db624c18196 Mon Sep 17 00:00:00 2001
From: Bharathpanchakshari
 <33091312+Bharathpanchakshari@users.noreply.github.com>
Date: Thu, 30 Jun 2022 11:03:01 +0530
Subject: [PATCH 06/15] Merge conflicts resolved

---
 .../tuners/DialogTunerPriorityArray.java      | 20 +++++++++----------
 .../tuners/TunerExpandableGridAdapter.java    |  9 ++++-----
 2 files changed, 13 insertions(+), 16 deletions(-)

diff --git a/app/src/main/java/a75f/io/renatus/tuners/DialogTunerPriorityArray.java b/app/src/main/java/a75f/io/renatus/tuners/DialogTunerPriorityArray.java
index 78cdc5d43..13e53fcd9 100644
--- a/app/src/main/java/a75f/io/renatus/tuners/DialogTunerPriorityArray.java
+++ b/app/src/main/java/a75f/io/renatus/tuners/DialogTunerPriorityArray.java
@@ -51,9 +51,7 @@ import a75f.io.renatus.views.MasterControl.MasterControlView;
 import butterknife.ButterKnife;
 
 import static a75f.io.logic.bo.util.UnitUtils.fahrenheitToCelsius;
-import static a75f.io.logic.bo.util.UnitUtils.fahrenheitToCelsiusUnitChange;
-import static a75f.io.logic.bo.util.UnitUtils.round;
-import static a75f.io.logic.bo.util.UnitUtils.roundToHalf;
+import static a75f.io.logic.bo.util.UnitUtils.fahrenheitToCelsiusRelative;
 
 public class DialogTunerPriorityArray extends BaseDialogFragment implements PriorityItemClickListener, TunerUndoClickListener {
     public static final String ID = DialogTunerPriorityArray.class.getSimpleName();
@@ -287,7 +285,7 @@ public class DialogTunerPriorityArray extends BaseDialogFragment implements Prio
         if( (double) MasterControlView.getTuner(useCelsius.get("id").toString())== TunerConstants.USE_CELSIUS_FLAG_ENABLED) {
             if (tunerItemSelected.containsKey("unit") && tunerItemSelected.get("unit").toString().equals("\u00B0F") || tunerItemSelected.get("unit").toString().equals("\u00B0C")) {
                 if (doesPointNeedRelativeConversion()) {
-                    defaultVal = roundToHalf(fahrenheitToCelsiusUnitChange(defaultVal));
+                    defaultVal = fahrenheitToCelsiusRelative(defaultVal);
                 } else {
                     defaultVal = Math.round(fahrenheitToCelsius(defaultVal));
                 }
@@ -403,7 +401,7 @@ public class DialogTunerPriorityArray extends BaseDialogFragment implements Prio
                     if( (double) MasterControlView.getTuner(useCelsius.get("id").toString())== TunerConstants.USE_CELSIUS_FLAG_ENABLED) {
                         if (tunerItemSelected.containsKey("unit") && tunerItemSelected.get("unit").toString().equals("\u00B0F") || tunerItemSelected.get("unit").toString().equals("\u00B0C")) {
                             if (doesPointNeedRelativeConversion()) {
-                                tunerVal = String.valueOf(roundToHalf(fahrenheitToCelsiusUnitChange(Double.parseDouble(valMap.get("val").toString()))));
+                                tunerVal = String.valueOf(fahrenheitToCelsiusRelative(Double.parseDouble(valMap.get("val").toString())));
                             } else {
                                 tunerVal = String.valueOf(Math.round(fahrenheitToCelsius(Double.parseDouble(valMap.get("val").toString()))));
                             }
@@ -488,13 +486,13 @@ public class DialogTunerPriorityArray extends BaseDialogFragment implements Prio
                     if (tunerItemSelected.containsKey("unit") && tunerItemSelected.get("unit").toString().equals("\u00B0F") || tunerItemSelected.get("unit").toString().equals("\u00B0C")) {
                         prefs.setBoolean(tunerItemSelected.get("id").toString(), true);
                         if (doesPointNeedRelativeConversion()) {
-                            maxValueDb = roundToHalf(fahrenheitToCelsiusUnitChange(maxValueDb));
-                            minValueDb = roundToHalf(fahrenheitToCelsiusUnitChange(minValueDb));
-                            currentValueDb = roundToHalf(fahrenheitToCelsiusUnitChange(currentValueDb));
+                            maxValueDb = (fahrenheitToCelsiusRelative(maxValueDb));
+                            minValueDb = (fahrenheitToCelsiusRelative(minValueDb));
+                            currentValueDb = (fahrenheitToCelsiusRelative(currentValueDb));
                         } else {
-                            minValueDb = roundToHalf(fahrenheitToCelsius(minValueDb));
-                            maxValueDb = roundToHalf(fahrenheitToCelsius(maxValueDb));
-                            currentValueDb = roundToHalf(fahrenheitToCelsius(currentValueDb));
+                            minValueDb = (fahrenheitToCelsius(minValueDb));
+                            maxValueDb = (fahrenheitToCelsius(maxValueDb));
+                            currentValueDb = (fahrenheitToCelsius(currentValueDb));
                         }
                     }
                 }
diff --git a/app/src/main/java/a75f/io/renatus/tuners/TunerExpandableGridAdapter.java b/app/src/main/java/a75f/io/renatus/tuners/TunerExpandableGridAdapter.java
index a1d60744a..2fd340ff9 100644
--- a/app/src/main/java/a75f/io/renatus/tuners/TunerExpandableGridAdapter.java
+++ b/app/src/main/java/a75f/io/renatus/tuners/TunerExpandableGridAdapter.java
@@ -18,9 +18,8 @@ import android.widget.ImageButton;
 import android.widget.TextView;
 import android.widget.ToggleButton;
 import static a75f.io.logic.bo.util.UnitUtils.fahrenheitToCelsius;
-import static a75f.io.logic.bo.util.UnitUtils.fahrenheitToCelsiusUnitChange;
-import static a75f.io.logic.bo.util.UnitUtils.round;
-import static a75f.io.logic.bo.util.UnitUtils.roundToHalf;
+import static a75f.io.logic.bo.util.UnitUtils.fahrenheitToCelsiusRelative;
+
 
 import java.util.ArrayList;
 import java.util.HashMap;
@@ -111,7 +110,7 @@ public class TunerExpandableGridAdapter extends RecyclerView.Adapter<TunerExpand
                         if( (double) MasterControlView.getTuner(useCelsius.get("id").toString())== TunerConstants.USE_CELSIUS_FLAG_ENABLED && !prefs.getBoolean(tunerItem.get("id").toString())) {
                             if (tunerItem.containsKey("unit") && tunerItem.get("unit").toString().equals("\u00B0F") || tunerItem.get("unit").toString().equals("\u00B0C")) {
                                 if (doesPointNeedRelativeConversion(tunerItem)) {
-                                    val = String.valueOf(roundToHalf(fahrenheitToCelsiusUnitChange(Double.parseDouble(val))));
+                                    val = String.valueOf(fahrenheitToCelsiusRelative(Double.parseDouble(val)));
                                 } else {
                                     val = String.valueOf(Math.round(fahrenheitToCelsius(Double.parseDouble(val))));
                                 }
@@ -131,7 +130,7 @@ public class TunerExpandableGridAdapter extends RecyclerView.Adapter<TunerExpand
                         if( (double) MasterControlView.getTuner(useCelsius.get("id").toString())== TunerConstants.USE_CELSIUS_FLAG_ENABLED && !prefs.getBoolean(tunerItem.get("id").toString())) {
                             if (tunerItem.containsKey("unit") && tunerItem.get("unit").toString().equals("\u00B0F") || tunerItem.get("unit").toString().equals("\u00B0C")) {
                                 if (doesPointNeedRelativeConversion(tunerItem)) {
-                                    val = roundToHalf(fahrenheitToCelsiusUnitChange(val));
+                                    val = fahrenheitToCelsiusRelative(val);
                                 } else {
                                     val = Math.round(fahrenheitToCelsius(val));
                                 }
-- 
2.31.0.windows.1

